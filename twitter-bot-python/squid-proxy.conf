# Identity Prism Forward Proxy
# Port 8734 (non-standard)
http_port 8734

# Authentication
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/proxy_users
auth_param basic realm IdentityPrism Proxy
auth_param basic credentialsttl 24 hours

acl authenticated proxy_auth REQUIRED

# Allow authenticated users
http_access allow authenticated

# Deny everything else
http_access deny all

# Disable caching (pure forward proxy)
cache deny all

# Hide proxy headers
via off
forwarded_for delete
request_header_access X-Forwarded-For deny all
request_header_access Via deny all
request_header_access Cache-Control deny all

# Logging minimal
access_log none
cache_log /var/log/squid/cache.log

# PID
pid_filename /run/squid.pid

# Visible hostname
visible_hostname proxy.local
